Status messages are multicast messages sent from the GXR2 to controllers

Multicast Status Message IPs and their associated zones are as follows
232.0.0.1	Zone 1
232.0.0.2	Zone 2
232.0.0.3	Zone 3
232.0.0.4	Zone 4
232.0.0.5	Zone 5
232.0.0.6	Zone 6

Other multicast traffic seen on Wireshark (I'm not sure what these are used for)
232.0.0.129	
232.0.0.130	
232.0.0.131	
232.0.0.132	
232.0.0.133	
232.0.0.134	

Status messages are sent at periodic intervals (approximately .7 seconds)  and whenever a change is made to the status of a zone.

When a zone is turned off, the status messages for that zone are abbreviated to 19 bytes in length.  When the zone is turned on, the status message is 49 bytes in length.  The status of zone elements are spread out in the message.  Precise locations are as follows:

Zone number     Byte 3
Device number   Byte 12
Volume          Byte 23
Mute            Byte 24
Bass            Byte 27
Treble          Byte 30
Balance         Byte 33
Please note that the byte locations in this table start at 1 not zero.



Control messages are unicast messages sent from controllers to the GXR2.

The control string is an 11 byte string of the format

00 XX 06 ZZ 00 0b 00 06 <command> 00 ff 

Where XX is a sequence number that is not used by the system and ZZ is the
zone number:

Zone 1 = 21
Zone 2 = 22
Zone 3 = 23
Zone 4 = 24
Zone 5 = 25
Zone 6 = 26

Control values  (Byte 9)

Treble down   83
Treble up     82
Base down     81
Base up       80
Balance right 85
Balance left  84
Mute/Unmute   0b  (toggle)

Wireshark can be used to monitor both status and control messages.  To monitor status messages you should first construct a male to female crossover adapter cable that interconnects the send an receive pairs as follows.

RJ-45 male       RJ-45 female
1   connects to     3
2   connects to     6
3   connects to     1
4   not connected   4
5   not connected   5
6   connects to     2
7   not connected   7
8   not connected   8

Plug the male end of this adapter into one of the unused ports in the Communications & Control Switch and connect a network cable between the female end and a computer that has wireshark installed.

Open wireshark and set a filter to the following value:

      ip.dst==132.0.0.0/28

Start capture and then, after several seconds, stop it.

Examine the contents of each captured packet for status information.

To monitor control messages you should first construct a three way bridge adapter that connects all eight pins of a controller to the GXR2 and the sent pair from the controller to the receive pair on a computer that has wireshark installed.

RJ-45 female (ICS controller)      RJ-45 female (GXR2)          RJ-45 female  (wireshark computer)
1                                  1                            3
2                                  2                            6
3                                  3                            Not connected
4                                  4                            Not connected
5                                  5                            Not connected
6                                  6                            Not connected
7                                  7                            Not connected
8                                  8                            Not connected

Please note that this bridge should be used for testing purposes only.  Bridging the send pair on a controller loads the circuit and changes the impedance of the connection.  This can cause instability in the operation of the controller.  Remove it from the circuit once testing is concluded.

Connect a network cable between the ICS controller connector on the bridge and the network port on the ICS controller.  Connect a second network cable between the GXR2 cable on the bridge and one of the open ports on the Communications & Control Switch on the GXR2.  Connect a third network cable between the wireshark computer connector on the bridge and a the wired network connector on a computer that has wireshark installed.

Open wireshark and set a filter to the following value:

     ip.dst==10.100.0.1

Start the capture, press several buttons on the controller, and then stop the capture.  You should have at least one packet for each button press.

Examine the contents of each captured packet for control information.
